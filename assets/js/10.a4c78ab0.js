(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{165:function(t,a,s){t.exports=s.p+"assets/img/WechatIMG1281.912fa05a.png"},219:function(t,a,s){"use strict";s.r(a);var e=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"content"},[e("h1",{attrs:{id:"面试"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#面试","aria-hidden":"true"}},[t._v("#")]),t._v(" 面试")]),t._v(" "),e("h2",{attrs:{id:"http-code"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#http-code","aria-hidden":"true"}},[t._v("#")]),t._v(" HTTP Code")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Code")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("Desc")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("2XX")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("成功")])]),t._v(" "),e("tr",[e("td",[t._v("3XX")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("永久重定向")])]),t._v(" "),e("tr",[e("td",[t._v("4XX")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("客户端错误")])]),t._v(" "),e("tr",[e("td",[t._v("5XX")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("服务器错误")])])])]),t._v(" "),e("h3",{attrs:{id:"_301"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_301","aria-hidden":"true"}},[t._v("#")]),t._v(" 301")]),t._v(" "),e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[t._v("永久性转移")]),t._v(" "),e("p",[e("code",[t._v("nginx、apache 转移")])])]),t._v(" "),e("h4",{attrs:{id:"案例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#案例","aria-hidden":"true"}},[t._v("#")]),t._v(" 案例")]),t._v(" "),e("div",{staticClass:"language-nginx line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-nginx"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("server")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("listen")]),t._v("     "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("server_name")]),t._v("  www"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("xxx"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("rewrite")]),t._v("  "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^/(.*)$"')]),t._v("  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("http")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("abc"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("xxx"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("$"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br")])]),e("h3",{attrs:{id:"_302"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_302","aria-hidden":"true"}},[t._v("#")]),t._v(" 302")]),t._v(" "),e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[t._v("临时性转移")]),t._v(" "),e("p",[e("code",[t._v("代码转移")])])]),t._v(" "),e("h4",{attrs:{id:"案例："}},[e("a",{staticClass:"header-anchor",attrs:{href:"#案例：","aria-hidden":"true"}},[t._v("#")]),t._v(" 案例：")]),t._v(" "),e("div",{staticClass:"language-php line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("header")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token double-quoted-string string"}},[t._v('"Location: /location_demo.php"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("img",{staticStyle:{width:"600px"},attrs:{src:s(165)}}),t._v(" "),e("h3",{attrs:{id:"_304"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_304","aria-hidden":"true"}},[t._v("#")]),t._v(" 304")]),t._v(" "),e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[t._v("客户的缓存资源是最新的， 要客户端使用缓存")]),t._v(" "),e("p",[e("code",[t._v("Last-Modified")]),t._v(" "),e("code",[t._v("If-Modified-Since")]),t._v(" "),e("code",[t._v("If-None-Match")])])]),t._v(" "),e("h4",{attrs:{id:"案例-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#案例-2","aria-hidden":"true"}},[t._v("#")]),t._v(" 案例")]),t._v(" "),e("p",[t._v("例如一些静态文件、或者不常更新的文件。")]),t._v(" "),e("h3",{attrs:{id:"_403"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_403","aria-hidden":"true"}},[t._v("#")]),t._v(" 403")]),t._v(" "),e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[t._v("请求被服务器拒绝了")]),t._v(" "),e("p",[e("code",[t._v("未授权")]),t._v(" "),e("code",[t._v("权限目录")]),t._v(" "),e("code",[t._v("权限组")])])]),t._v(" "),e("h4",{attrs:{id:"案例-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#案例-3","aria-hidden":"true"}},[t._v("#")]),t._v(" 案例")]),t._v(" "),e("p",[t._v("常用于比如开发目录的权限或者权限组问题。")]),t._v(" "),e("h3",{attrs:{id:"_404"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_404","aria-hidden":"true"}},[t._v("#")]),t._v(" 404")]),t._v(" "),e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[t._v("未找到资源")]),t._v(" "),e("p",[e("code",[t._v("访问的资源不存在")])])]),t._v(" "),e("h4",{attrs:{id:"案例-4"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#案例-4","aria-hidden":"true"}},[t._v("#")]),t._v(" 案例")]),t._v(" "),e("p",[t._v("请求的URL或者资源，根本不在服务器上。")]),t._v(" "),e("h3",{attrs:{id:"_405"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_405","aria-hidden":"true"}},[t._v("#")]),t._v(" 405")]),t._v(" "),e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[t._v("不支持该Request的方法。")]),t._v(" "),e("p",[e("code",[t._v("GET")]),t._v(" "),e("code",[t._v("POST")]),t._v(" "),e("code",[t._v("PUT")]),t._v(" "),e("code",[t._v("DELETE")])])]),t._v(" "),e("h4",{attrs:{id:"案例-5"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#案例-5","aria-hidden":"true"}},[t._v("#")]),t._v(" 案例")]),t._v(" "),e("ul",[e("li",[t._v("如果实现是post请求，用get访问会提示该错误")])]),t._v(" "),e("h3",{attrs:{id:"_500"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_500","aria-hidden":"true"}},[t._v("#")]),t._v(" 500")]),t._v(" "),e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[t._v("服务器内部错误")]),t._v(" "),e("p",[e("code",[t._v("语法错误")]),t._v(" "),e("code",[t._v("配置错误")])])]),t._v(" "),e("h3",{attrs:{id:"_502"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_502","aria-hidden":"true"}},[t._v("#")]),t._v(" 502")]),t._v(" "),e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[t._v("Bad Gateway，网关错误")]),t._v(" "),e("p",[e("code",[t._v("上游无响应")]),t._v(" "),e("code",[t._v("上游超时")])])]),t._v(" "),e("p",[t._v("502并不是指网关本身出了问题，而是从上游接收响应出了问题，比如由于上游服务自身超时导致不能产生响应数据，或者上游不按照协议约定来返回数据导致网关不能正常解析。")]),t._v(" "),e("h4",{attrs:{id:"案例1"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#案例1","aria-hidden":"true"}},[t._v("#")]),t._v(" 案例1")]),t._v(" "),e("ul",[e("li",[t._v("关闭PHP-FPM进程")])]),t._v(" "),e("h4",{attrs:{id:"案例2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#案例2","aria-hidden":"true"}},[t._v("#")]),t._v(" 案例2")]),t._v(" "),e("ul",[e("li",[t._v("脚本执行时间，超过PHP-FPM允许的超时时间"),e("div",{staticClass:"language-php line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sleep")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("div",{staticClass:"language-php line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[t._v("request_terminate_timeout "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])])])]),t._v(" "),e("h3",{attrs:{id:"_503"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_503","aria-hidden":"true"}},[t._v("#")]),t._v(" 503")]),t._v(" "),e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[t._v("Server Unavailable 服务不可用")]),t._v(" "),e("p",[e("code",[t._v("todo")])])]),t._v(" "),e("h3",{attrs:{id:"_504"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_504","aria-hidden":"true"}},[t._v("#")]),t._v(" 504")]),t._v(" "),e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[t._v("Gateway Timeout，网关超时")]),t._v(" "),e("p",[e("code",[t._v("上游无按规定时间返回响应")])])]),t._v(" "),e("p",[t._v("504是指在php-fpm还未执行完成的某一时刻，由于超过了nginx自身的超时时间，nginx则以为上游php-fpm没有按照设置时间返回响应数据就会返回504， 此时对于php-fpm而言还会继续执行下去，直到执行完成。")]),t._v(" "),e("h4",{attrs:{id:"案例-6"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#案例-6","aria-hidden":"true"}},[t._v("#")]),t._v(" 案例")]),t._v(" "),e("ul",[e("li",[t._v("php代码")])]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("sleep(10)\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("ul",[e("li",[t._v("php-fpm")])]),t._v(" "),e("div",{staticClass:"language-php line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[t._v("request_terminate_timeout"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("ul",[e("li",[t._v("nginx")])]),t._v(" "),e("div",{staticClass:"language-nginx line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-nginx"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fastcgi_read_timeout")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])])])}],r=s(0),n=Object(r.a)({},function(){this.$createElement;this._self._c;return this._m(0)},e,!1,null,null,null);n.options.__file="basic.md";a.default=n.exports}}]);